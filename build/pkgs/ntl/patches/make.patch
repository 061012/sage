--- ntl.orig/src/mfile	2014-08-27 05:51:42.000000000 +1200
+++ ntl/src/mfile	2014-10-09 22:14:46.730922903 +1300
@@ -40,6 +40,9 @@
 LIBTOOL=@{LIBTOOL}
 # libtool command
 
+LIBTOOL_LINK_FLAGS=@{LIBTOOL_LINK_FLAGS}
+# flags to pass to libtool when linking
+
 DEF_PREFIX=@{DEF_PREFIX}
 
 PREFIX=@{PREFIX}
@@ -322,11 +325,11 @@
 # again.
 
 all:
-	make setup1
-	make setup2
-	make setup3
-	make setup4
-	make ntl.a
+	$(MAKE) setup1
+	$(MAKE) setup2
+	$(MAKE) setup3
+	$(MAKE) setup4
+	$(MAKE) ntl.a
 	touch all
 
 
@@ -335,7 +338,7 @@
 setup1:
 	$(COMPILE) MakeDescAux.c
 	$(LINK) -o MakeDesc MakeDesc.c MakeDescAux.o $(LDLIBS)
-	./MakeDesc
+	./MakeDesc # generates mach_desc.h
 	mv mach_desc.h ../include/NTL/mach_desc.h
 
 # setup2 generates the file GetTime.c
@@ -355,13 +358,13 @@
 # setup4 runs the wizard
 
 setup4:
-	sh Wizard $(WIZARD)
+	+sh Wizard $(WIZARD) # shell script invoking a Perl script invoking \$MAKE
 
 
 ntl.a:	$(OBJ) 
 @{LSTAT}	$(AR) $(ARFLAGS) ntl.a $(OBJ) #LSTAT
 @{LSTAT}	- $(RANLIB) ntl.a #LSTAT
-@{LSHAR}	$(LIBTOOL) --mode=link $(LINK) -o libntl.la $(OBJ:.o=.lo) $(GMP_OPT_LIBDIR) $(GMP_OPT_LIB) $(GF2X_OPT_LIBDIR) $(GF2X_OPT_LIB) $(LDLIBS) -rpath $(LIBDIR) -version-info `cat VERSION_INFO` #LSHAR
+@{LSHAR}	$(LIBTOOL) --mode=link $(LINK) $(LIBTOOL_LINK_FLAGS) -o libntl.la $(OBJ:.o=.lo) $(GMP_OPT_LIBDIR) $(GMP_OPT_LIB) $(GF2X_OPT_LIBDIR) $(GF2X_OPT_LIB) $(LDLIBS) -rpath $(LIBDIR) -version-info `cat VERSION_INFO` #LSHAR
 
 @{LSTAT}LCOMP= #LSTAT
 @{LSHAR}LCOMP=$(LIBTOOL) --mode=compile #LSHAR
@@ -394,10 +397,10 @@
 
 check:
 	sh RemoveProg $(PROGS)
-	make QuickTest
+	$(MAKE) QuickTest
 	./QuickTest
 	sh RemoveProg QuickTest
-	sh TestScript
+	+sh TestScript # shell script invoking \$MAKE
 
 #################################################################
 #
--- ntl.orig/src/WizardAux	2014-08-27 05:51:43.000000000 +1200
+++ ntl/src/WizardAux	2014-10-09 22:14:46.730922903 +1300
@@ -47,9 +47,9 @@
    my $val;
    my $res;
 
-   system("make wntl.a");
+   system("\$MAKE wntl.a");
    RemoveProg($name);
-   system("make $name");
+   system("\$MAKE $name");
 
    print "\n*** running $name...";
 
@@ -73,7 +73,7 @@
 
 
 
-system("make InitSettings");
+system("\$MAKE InitSettings");
 
 @lines = `./InitSettings`;
 
@@ -254,7 +254,7 @@
 
 print "\n\n*** the wizard is done!!\n\n"; 
 
-system("make DispSettings");
+system("\$MAKE DispSettings");
 system("./DispSettings");
 
 
