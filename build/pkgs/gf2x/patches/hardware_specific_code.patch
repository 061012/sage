diff -druN gf2x-1.1.orig/configure gf2x-1.1/configure
--- gf2x-1.1.orig/configure	2012-05-31 13:54:00.000000000 -0700
+++ gf2x-1.1/configure	2014-01-13 07:26:50.972116976 -0800
@@ -758,6 +758,7 @@
 enable_ntl_checks
 enable_sse2
 enable_pclmul
+enable_hardware_specific_code
 with_compile_warnings
 '
       ac_precious_vars='build_alias
@@ -1405,6 +1406,8 @@
   --enable-ntl-checks     Turn on ntl checks
   --enable-sse2           Turn on sse-2 code (default is yes)
   --enable-pclmul         Turn on pclmul code (default is yes)
+  --enable-hardware-specific-code
+                          Turn on all cpu-dependent optimized code (default is yes)
 
 Optional Packages:
   --with-PACKAGE[=ARG]    use PACKAGE [ARG=yes]
@@ -11524,6 +11527,29 @@
   enableval=$enable_pclmul;
 fi
 
+# Check whether --enable-hardware-specific-code was given.
+if test "${enable_hardware_specific_code+set}" = set; then :
+  enableval=$enable_hardware_specific_code; p=${PACKAGE-default}
+    case $enableval in
+    yes) enable_hardware_specific_code=yes ;;
+    no) enable_hardware_specific_code=no ;;
+    *)
+      enable_hardware_specific_code=no
+      # Look at the argument we got.  We use all the common list separators.
+      lt_save_ifs="$IFS"; IFS="${IFS}$PATH_SEPARATOR,"
+      for pkg in $enableval; do
+	IFS="$lt_save_ifs"
+	if test "X$pkg" = "X$p"; then
+	  enable_hardware_specific_code=yes
+	fi
+      done
+      IFS="$lt_save_ifs"
+      ;;
+    esac
+else
+  enable_hardware_specific_code=yes
+fi
+
 
  if test x$enable_ntl_checks = xyes; then
   ENABLE_NTL_CHECKS_TRUE=
@@ -16337,6 +16363,9 @@
 
 
 
+if test "x${enable_hardware_specific_code}" = xno ; then
+ echo "Not using hardware-specific code due to --disable-hardware-specific-code flag"
+else
 
  ac_save_CFLAGS=$CFLAGS
  { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether $CC can compile and run sse-2 code" >&5
@@ -16644,6 +16673,7 @@
 
  fi
 
+fi
 
 : ${ABI='default'}
 
@@ -16732,6 +16762,7 @@
  # Our _default_ setting for hwdir is to use 8*sizeof(ulong).
  hwdir=generic$gf2x_wordsize
 
+if test "x${enable_hardware_specific_code}" = xyes ; then
  # Yet there are several situations in which we select another directory.
  # This refined selection mechanism is impacted by the ABI= setting.
  case "$target_cpu" in
@@ -16835,6 +16866,7 @@
    fi
    ;;
  esac
+fi
 else
  { $as_echo "$as_me:${as_lineno-$LINENO}: Using supplied hwdir value $hwdir" >&5
 $as_echo "$as_me: Using supplied hwdir value $hwdir" >&6;}
